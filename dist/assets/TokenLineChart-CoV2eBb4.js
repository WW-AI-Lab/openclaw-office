import{e as w,d as D,u as Jt,h as Qt,j as A,P as Z}from"./index-DNKPM7x5.js";import{g as Zt,i as ht,G as Ct,a as lt,m as te,b as q,c as C,T as ee,s as ft,f as $,d as Pt,L as X,e as re,h as ne,D as ie,j as oe,E as ae,C as ce,A as se,k as Y,l as ue,n as yt,o as le,p as fe,q as Dt,u as pe,r as kt,t as Nt,v as Lt,w as he,x as It,y as ye,z as ve,B as de,R as me,F as be}from"./generateCategoricalChart-3d0tNdH3.js";function zt(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Zt(r,n)}function xe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,c=t.height;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function et(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Oe(t,e){return zt(t,e+1)}function we(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,c=e.end,s=0,h=1,f=o,y=function(){var p=r==null?void 0:r[s];if(p===void 0)return{v:zt(r,h)};var v=s,d,g=function(){return d===void 0&&(d=n(p,v)),d},b=p.coordinate,m=s===0||et(t,b,g,f,c);m||(s=0,f=o,h+=1),m&&(f=b+t*(g()/2+i),s+=h)},l;h<=a.length;)if(l=y(),l)return l.v;return[]}function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(t)}function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_t(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pe(t,e,n){return e=ke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ke(t){var e=_e(t,"string");return J(e)=="symbol"?e:e+""}function _e(t,e){if(J(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Se(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,c=e.start,s=e.end,h=function(l){var u=a[l],p,v=function(){return p===void 0&&(p=n(u,l)),p};if(l===o-1){var d=t*(u.coordinate+t*v()/2-s);a[l]=u=k(k({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate})}else a[l]=u=k(k({},u),{},{tickCoord:u.coordinate});var g=et(t,u.tickCoord,v,c,s);g&&(s=u.tickCoord-t*(v()/2+i),a[l]=k(k({},u),{},{isShow:!0}))},f=o-1;f>=0;f--)h(f);return a}function Ae(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,s=e.start,h=e.end;if(a){var f=r[c-1],y=n(f,c-1),l=t*(f.coordinate+t*y/2-h);o[c-1]=f=k(k({},f),{},{tickCoord:l>0?f.coordinate-l*t:f.coordinate});var u=et(t,f.tickCoord,function(){return y},s,h);u&&(h=f.tickCoord-t*(y/2+i),o[c-1]=k(k({},f),{},{isShow:!0}))}for(var p=a?c-1:c,v=function(b){var m=o[b],x,O=function(){return x===void 0&&(x=n(m,b)),x};if(b===0){var j=t*(m.coordinate-t*O()/2-s);o[b]=m=k(k({},m),{},{tickCoord:j<0?m.coordinate-j*t:m.coordinate})}else o[b]=m=k(k({},m),{},{tickCoord:m.coordinate});var T=et(t,m.tickCoord,O,s,h);T&&(s=m.tickCoord+t*(O()/2+i),o[b]=k(k({},m),{},{isShow:!0}))},d=0;d<p;d++)v(d);return o}function je(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,c=t.orientation,s=t.interval,h=t.tickFormatter,f=t.unit,y=t.angle;if(!i||!i.length||!r)return[];if(ht(s)||Ct.isSsr)return Oe(i,typeof s=="number"&&ht(s)?s:0);var l=[],u=c==="top"||c==="bottom"?"width":"height",p=f&&u==="width"?lt(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(m,x){var O=q(h)?h(m.value,x):m.value;return u==="width"?ge(lt(O,{fontSize:e,letterSpacing:n}),p,y):lt(O,{fontSize:e,letterSpacing:n})[u]},d=i.length>=2?te(i[1].coordinate-i[0].coordinate):1,g=xe(a,d,u);return s==="equidistantPreserveStart"?we(d,g,v,i,o):(s==="preserveStart"||s==="preserveStartEnd"?l=Ae(d,g,v,i,o,s==="preserveStartEnd"):l=Se(d,g,v,i,o),l.filter(function(b){return b.isShow}))}var Te=["viewBox"],Ee=["viewBox"],$e=["ticks"];function B(t){"@babel/helpers - typeof";return B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(t)}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?St(Object(n),!0).forEach(function(r){wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t,e){if(t==null)return{};var n=Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bt(r.key),r)}}function Ne(t,e,n){return e&&At(t.prototype,e),n&&At(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Le(t,e,n){return e=rt(e),Ie(t,Rt()?Reflect.construct(e,n||[],rt(t).constructor):e.apply(t,n))}function Ie(t,e){if(e&&(B(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ze(t)}function ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!t})()}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rt(t)}function Re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vt(t,e)}function vt(t,e){return vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vt(t,e)}function wt(t,e,n){return e=Bt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bt(t){var e=Be(t,"string");return B(e)=="symbol"?e:e+""}function Be(t,e){if(B(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(B(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var at=(function(t){function e(n){var r;return De(this,e),r=Le(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Re(e,t),Ne(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=pt(r,Te),c=this.props,s=c.viewBox,h=pt(c,Ee);return!ft(a,s)||!ft(o,h)||!ft(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,c=i.width,s=i.height,h=i.orientation,f=i.tickSize,y=i.mirror,l=i.tickMargin,u,p,v,d,g,b,m=y?-1:1,x=r.tickSize||f,O=ht(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":u=p=r.coordinate,d=o+ +!y*s,v=d-m*x,b=v-m*l,g=O;break;case"left":v=d=r.coordinate,p=a+ +!y*c,u=p-m*x,g=u-m*l,b=O;break;case"right":v=d=r.coordinate,p=a+ +y*c,u=p+m*x,g=u+m*l,b=O;break;default:u=p=r.coordinate,d=o+ +y*s,v=d+m*x,b=v+m*l,g=O;break}return{line:{x1:u,y1:v,x2:p,y2:d},tick:{x:g,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,c=r.height,s=r.orientation,h=r.mirror,f=r.axisLine,y=P(P(P({},$(this.props,!1)),$(f,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!h||s==="bottom"&&h);y=P(P({},y),{},{x1:i,y1:a+l*c,x2:i+o,y2:a+l*c})}else{var u=+(s==="left"&&!h||s==="right"&&h);y=P(P({},y),{},{x1:i+u*o,y1:a,x2:i+u*o,y2:a+c})}return w.createElement("line",R({},y,{className:C("recharts-cartesian-axis-line",Pt(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,c=this.props,s=c.tickLine,h=c.stroke,f=c.tick,y=c.tickFormatter,l=c.unit,u=je(P(P({},this.props),{},{ticks:r}),i,a),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),d=$(this.props,!1),g=$(f,!1),b=P(P({},d),{},{fill:"none"},$(s,!1)),m=u.map(function(x,O){var j=o.getTickLineCoord(x),T=j.line,N=j.tick,L=P(P(P(P({textAnchor:p,verticalAnchor:v},d),{},{stroke:"none",fill:h},g),N),{},{index:O,payload:x,visibleTicksCount:u.length,tickFormatter:y});return w.createElement(X,R({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},re(o.props,x,O)),s&&w.createElement("line",R({},b,T,{className:C("recharts-cartesian-axis-tick-line",Pt(s,"className"))})),f&&e.renderTickItem(f,L,"".concat(q(y)?y(x.value,O):x.value).concat(l||"")))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,c=i.height,s=i.ticksGenerator,h=i.className,f=i.hide;if(f)return null;var y=this.props,l=y.ticks,u=pt(y,$e),p=l;return q(s)&&(p=l&&l.length>0?s(this.props):s(u)),o<=0||c<=0||!p||!p.length?null:w.createElement(X,{className:C("recharts-cartesian-axis",h),ref:function(d){r.layerReference=d}},a&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),ne.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,c=C(i.className,"recharts-cartesian-axis-tick-value");return w.isValidElement(r)?o=w.cloneElement(r,P(P({},i),{},{className:c})):q(r)?o=r(P(P({},i),{},{className:c})):o=w.createElement(ee,R({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(D.Component);wt(at,"displayName","CartesianAxis");wt(at,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Fe=["type","layout","connectNulls","ref"],We=["key"];function F(t){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(t)}function jt(t,e){if(t==null)return{};var n=Ke(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H.apply(this,arguments)}function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tt(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z(t){return Ue(t)||Ge(t)||Ve(t)||Me()}function Me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ve(t,e){if(t){if(typeof t=="string")return dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(t,e)}}function Ge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ue(t){if(Array.isArray(t))return dt(t)}function dt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function qe(t,e,n){return e&&Et(t.prototype,e),n&&Et(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xe(t,e,n){return e=nt(e),He(t,Ft()?Reflect.construct(e,n||[],nt(t).constructor):e.apply(t,n))}function He(t,e){if(e&&(F(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}function Je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ft=function(){return!!t})()}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nt(t)}function Qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mt(t,e)}function E(t,e,n){return e=Wt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t){var e=Ze(t,"string");return F(e)=="symbol"?e:e+""}function Ze(t,e){if(F(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(F(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W=(function(t){function e(){var n;Ye(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Xe(this,e,[].concat(i)),E(n,"state",{isAnimationFinished:!0,totalLength:0}),E(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),E(n,"getStrokeDasharray",function(o,c,s){var h=s.reduce(function(g,b){return g+b});if(!h)return n.generateSimpleStrokeDasharray(c,o);for(var f=Math.floor(o/h),y=o%h,l=c-o,u=[],p=0,v=0;p<s.length;v+=s[p],++p)if(v+s[p]>y){u=[].concat(z(s.slice(0,p)),[y-v]);break}var d=u.length%2===0?[0,l]:[l];return[].concat(z(e.repeat(s,f)),z(u),d).map(function(g){return"".concat(g,"px")}).join(", ")}),E(n,"id",pe("recharts-line-")),E(n,"pathRef",function(o){n.mainCurve=o}),E(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),E(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Qe(e,t),qe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,s=a.yAxis,h=a.layout,f=a.children,y=oe(f,ae);if(!y)return null;var l=function(v,d){return{x:v.x,y:v.y,value:v.value,errorVal:Dt(v.payload,d)}},u={clipPath:r?"url(#clipPath-".concat(i,")"):null};return w.createElement(X,u,y.map(function(p){return w.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:c,yAxis:s,layout:h,dataPointFormatter:l})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,s=c.dot,h=c.points,f=c.dataKey,y=$(this.props,!1),l=$(s,!0),u=h.map(function(v,d){var g=S(S(S({key:"dot-".concat(d),r:3},y),l),{},{index:d,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:h});return e.renderDotItem(s,g)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return w.createElement(X,H({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(r,i,a,o){var c=this.props,s=c.type,h=c.layout,f=c.connectNulls;c.ref;var y=jt(c,Fe),l=S(S(S({},$(y,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:s,layout:h,connectNulls:f});return w.createElement(ce,H({},l,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,c=o.points,s=o.strokeDasharray,h=o.isAnimationActive,f=o.animationBegin,y=o.animationDuration,l=o.animationEasing,u=o.animationId,p=o.animateNewValues,v=o.width,d=o.height,g=this.state,b=g.prevPoints,m=g.totalLength;return w.createElement(se,{begin:f,duration:y,isActive:h,easing:l,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var O=x.t;if(b){var j=b.length/c.length,T=c.map(function(_,ut){var G=Math.floor(ut*j);if(b[G]){var U=b[G],I=Y(U.x,_.x),qt=Y(U.y,_.y);return S(S({},_),{},{x:I(O),y:qt(O)})}if(p){var Xt=Y(v*2,_.x),Ht=Y(d/2,_.y);return S(S({},_),{},{x:Xt(O),y:Ht(O)})}return S(S({},_),{},{x:_.x,y:_.y})});return a.renderCurveStatically(T,r,i)}var N=Y(0,m),L=N(O),V;if(s){var Q="".concat(s).split(/[,\s]+/gim).map(function(_){return parseFloat(_)});V=a.getStrokeDasharray(L,m,Q)}else V=a.generateSimpleStrokeDasharray(m,L);return a.renderCurveStatically(c,r,i,{strokeDasharray:V})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,c=a.isAnimationActive,s=this.state,h=s.prevPoints,f=s.totalLength;return c&&o&&o.length&&(!h&&f>0||!ue(h,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,c=i.points,s=i.className,h=i.xAxis,f=i.yAxis,y=i.top,l=i.left,u=i.width,p=i.height,v=i.isAnimationActive,d=i.id;if(a||!c||!c.length)return null;var g=this.state.isAnimationFinished,b=c.length===1,m=C("recharts-line",s),x=h&&h.allowDataOverflow,O=f&&f.allowDataOverflow,j=x||O,T=yt(d)?this.id:d,N=(r=$(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=N.r,V=L===void 0?3:L,Q=N.strokeWidth,_=Q===void 0?2:Q,ut=le(o)?o:{},G=ut.clipDot,U=G===void 0?!0:G,I=V*2+_;return w.createElement(X,{className:m},x||O?w.createElement("defs",null,w.createElement("clipPath",{id:"clipPath-".concat(T)},w.createElement("rect",{x:x?l:l-u/2,y:O?y:y-p/2,width:x?u:u*2,height:O?p:p*2})),!U&&w.createElement("clipPath",{id:"clipPath-dots-".concat(T)},w.createElement("rect",{x:l-I/2,y:y-I/2,width:u+I,height:p+I}))):null,!b&&this.renderCurve(j,T),this.renderErrorBar(j,T),(b||o)&&this.renderDots(j,U,T),(!v||g)&&fe.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(z(r),[0]):r,o=[],c=0;c<i;++c)o=[].concat(z(o),z(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(w.isValidElement(r))a=w.cloneElement(r,i);else if(q(r))a=r(i);else{var o=i.key,c=jt(i,We),s=C("recharts-line-dot",typeof r!="boolean"?r.className:"");a=w.createElement(ie,H({key:o},c,{className:s}))}return a}}])})(D.PureComponent);E(W,"displayName","Line");E(W,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ct.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});E(W,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,c=t.bandSize,s=t.displayedData,h=t.offset,f=e.layout,y=s.map(function(l,u){var p=Dt(l,o);return f==="horizontal"?{x:kt({axis:n,ticks:i,bandSize:c,entry:l,index:u}),y:yt(p)?null:r.scale(p),value:p,payload:l}:{x:yt(p)?null:n.scale(p),y:kt({axis:r,ticks:a,bandSize:c,entry:l,index:u}),value:p,payload:l}});return S({points:y,layout:f},h)});function K(t){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(t)}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vt(r.key),r)}}function rr(t,e,n){return e&&er(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nr(t,e,n){return e=it(e),ir(t,Kt()?Reflect.construct(e,n||[],it(t).constructor):e.apply(t,n))}function ir(t,e){if(e&&(K(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kt=function(){return!!t})()}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},it(t)}function ar(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bt(t,e)}function bt(t,e){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bt(t,e)}function Mt(t,e,n){return e=Vt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vt(t){var e=cr(t,"string");return K(e)=="symbol"?e:e+""}function cr(t,e){if(K(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(K(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}function sr(t){var e=t.xAxisId,n=Nt(),r=Lt(),i=he(e);return i==null?null:D.createElement(at,gt({},i,{className:C("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return It(o,!0)}}))}var ct=(function(t){function e(){return tr(this,e),nr(this,e,arguments)}return ar(e,t),rr(e,[{key:"render",value:function(){return D.createElement(sr,this.props)}}])})(D.Component);Mt(ct,"displayName","XAxis");Mt(ct,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function M(t){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(t)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yt(r.key),r)}}function fr(t,e,n){return e&&lr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pr(t,e,n){return e=ot(e),hr(t,Gt()?Reflect.construct(e,n||[],ot(t).constructor):e.apply(t,n))}function hr(t,e){if(e&&(M(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(t)}function yr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gt=function(){return!!t})()}function ot(t){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ot(t)}function vr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xt(t,e)}function Ut(t,e,n){return e=Yt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yt(t){var e=dr(t,"string");return M(e)=="symbol"?e:e+""}function dr(t,e){if(M(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ot(){return Ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ot.apply(this,arguments)}var mr=function(e){var n=e.yAxisId,r=Nt(),i=Lt(),a=ye(n);return a==null?null:D.createElement(at,Ot({},a,{className:C("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return It(c,!0)}}))},st=(function(t){function e(){return ur(this,e),pr(this,e,arguments)}return vr(e,t),fr(e,[{key:"render",value:function(){return D.createElement(mr,this.props)}}])})(D.Component);Ut(st,"displayName","YAxis");Ut(st,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var br=ve({chartName:"LineChart",GraphicalChild:W,axisComponents:[{axisType:"xAxis",AxisComp:ct},{axisType:"yAxis",AxisComp:st}],formatAxisMap:de});function $t(t){const e=new Date(t);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}function tt(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function wr(){const{t}=Jt("panels"),e=Qt(i=>i.tokenHistory);if(e.length<2)return A.jsx("div",{className:"flex h-48 items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:t("common:empty.waitingUsageData")});const n=gr(e,5),r=e.map(i=>{const a={timestamp:i.timestamp,time:$t(i.timestamp),total:i.total};for(const o of n)a[o]=i.byAgent[o]??0;return a});return A.jsx(me,{width:"100%",height:200,children:A.jsxs(br,{data:r,margin:{top:5,right:5,left:0,bottom:0},children:[A.jsx(ct,{dataKey:"time",tick:{fontSize:10}}),A.jsx(st,{tick:{fontSize:10},tickFormatter:tt}),A.jsx(be,{formatter:i=>tt(i),labelFormatter:(i,a)=>{var c;const o=(c=a[0])==null?void 0:c.payload;return o?$t(o.timestamp):""},content:({active:i,payload:a,label:o})=>{var f;if(!i||!(a!=null&&a.length))return null;const c=(f=a[0])==null?void 0:f.payload;if(!c)return null;const s=c.total,h=[A.jsxs("div",{children:[t("tokenChart.total")," ",tt(s)]},"total"),...n.map((y,l)=>{const u=c[y]??0;return A.jsxs("div",{style:{color:Z[l%Z.length]},children:[y,": ",tt(u)]},y)})];return A.jsxs("div",{className:"rounded border border-gray-200 bg-white px-2 py-1 text-xs shadow dark:border-gray-700 dark:bg-gray-900",children:[A.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:o}),h]})}}),A.jsx(W,{type:"monotone",dataKey:"total",stroke:"#3b82f6",strokeWidth:2,dot:!1,name:t("tokenChart.totalLine")}),n.map((i,a)=>A.jsx(W,{type:"monotone",dataKey:i,stroke:Z[a%Z.length],strokeWidth:1,strokeDasharray:"4 2",dot:!1,name:i},i))]})})}function gr(t,e){const n={};for(const r of t)for(const[i,a]of Object.entries(r.byAgent))n[i]=(n[i]??0)+a;return Object.entries(n).toSorted(([,r],[,i])=>i-r).slice(0,e).map(([r])=>r)}export{wr as TokenLineChart};
